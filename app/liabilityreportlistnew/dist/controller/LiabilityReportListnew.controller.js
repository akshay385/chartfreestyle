sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/export/library","sap/ui/export/Spreadsheet","sap/m/MessageToast","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,o,i,a,l){"use strict";var n=sap.ui.export.EdmType;return e.extend("liabilityreportlistnew.controller.LiabilityReportListnew",{onInit:function(){},onAfterRendering:async function(e){this.getView().byId("t1").addStyleClass("t1");this.getView().byId("t2").addStyleClass("t1");this.getView().byId("t3").addStyleClass("t1");this.getView().byId("t4").addStyleClass("t1");this.getView().byId("t5").addStyleClass("t1");this.getView().byId("t6").addStyleClass("t1");this.getView().byId("t8").addStyleClass("t1");this.getView().byId("t9").addStyleClass("t1");this.getView().byId("t10").addStyleClass("t1");this.getView().byId("t11").addStyleClass("t1");this.getView().byId("t12").addStyleClass("t1");this.oFilterBar=this.getView().byId("f1")},createColumn:function(){return[{label:"Vendor No",property:"Vendor_no",type:n.String},{label:"Comp Code",property:"comp_code",type:n.String},{label:"Total No Of Invoice",property:"Total_no_of_invoice",type:n.String},{label:"Total Amount",property:"Total_Amount",type:n.String},{label:"Total No Of Invoice Due",property:"Total_no_of_invoice",type:n.String},{label:"Total Due Amount",property:"Total_Due_Amount",type:n.String},{label:"Total No Of Invoice OverDue",property:"Total_no_of_Invoice_OverDue",type:n.String},{label:"Total Overdue Amount",property:"Total_Overdue_Amount",type:n.String},{label:"Total_No_of_Invoice_Posted",property:"Total_No_of_Invoice_Posted",type:n.String},{label:"Total Amount Posted",property:"Total_amt_Posted",type:n.String}]},down:async function(){debugger;var e,t,o,i,a;debugger;t=this.byId("idProductsTable1");o=t.getBinding("items");e=this.createColumn();i={workbook:{columns:e},dataSource:o};a=new sap.ui.export.Spreadsheet(i);a.build().then(function(){l.show("Spreadsheet export has finished")}).finally(function(){a.destroy()})},onselectchange:async function(e){debugger;console.log();this.oFilterBar.fireFilterChange(e)},pressbut:async function(e){debugger;var t=this.getView().byId("f1");var o=t.getVisible();t.setVisible(!o)},search:async function(e){debugger;var t=this.getView().byId("combo1").getSelectedKeys();var o=this.getView().byId("combo2").getSelectedKeys();var i=this.getView().byId("idProductsTable1");var a=i.getBinding("items");if(o.length>0){var l=new sap.m.BusyDialog({text:`Fetching Vendor Name with ${o}`});l.open();var n=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("vendor_name",sap.ui.model.FilterOperator.Contains,o)],and:false});a.filter([n]);setTimeout(function(){l.close()},1e3)}else if(t.length>0){var r=new sap.m.BusyDialog({text:`Fetching Vendor No with ${t}`});r.open();var s=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("Vendor_no",sap.ui.model.FilterOperator.Contains,t)],and:false});a.filter([s]);setTimeout(function(){r.close()},1e3)}else{var d=new sap.m.BusyDialog({text:"Fetching All Data"});d.open();a.filter([]);setTimeout(function(){d.close()},1e3)}}})});